#工行网银测试结果

= 摘要 =
== 个人网上银行 ==
  *  登录入口: https://mybank.icbc.com.cn/icbc/enperbank/index.jsp
  *  在Wine Microsoft IE6 下可以正常登录,可以查询账户,但不能使用捷德u盾 .
  *  在Wine builtin IE 下仍不能正常登录.`

== 个人网上银行贵宾版 ==
  *  登录入口： https://vip.icbc.com.cn/icbc/enperbank/index.jsp

== 企业网上银行普及版 ==
  *  登录入口： https://corporbank-simp.icbc.com.cn/icbc/normalbank/index.jsp
  *  *不建议使用任何未经工行官方测试的浏览器和操作系统*
  *  *Linux和Mac系统比Windows更安全，更适合企业应用，但工行网银尚不支持Linux和Mac
,若有需要请向工行投诉或提议。*

== 企业网上银行 ==
  *  登录入口： https://corporbank.icbc.com.cn/
  *  *不建议使用任何未经工行官方测试的浏览器和操作系统*
  *  *Linux和Mac系统比Windows更安全，更适合企业应用，但工行网银尚不支持Linux和Mac
,若有需要请向工行投诉或提议。*

== 投诉渠道 ==
  *  在线投诉
     个人客户投诉登记表http://www.icbc.com.cn/ICBC/%E5%AE%A2%E6%88%B7%E6%8A%95%E8%AF%89/%E4%B8%AA%E4%BA%BA%E5%AE%A2%E6%88%B7%E6%8A%95%E8%AF%89%E7%99%BB%E8%AE%B0%E8%A1%A8.htm

     单位客户投诉登记表http://www.icbc.com.cn/ICBC/%E5%AE%A2%E6%88%B7%E6%8A%95%E8%AF%89/%E5%8D%95%E4%BD%8D%E5%AE%A2%E6%88%B7%E6%8A%95%E8%AF%89%E7%99%BB%E8%AE%B0%E8%A1%A8.htm

  *  电话服务
　　 24小时全国电话服务热线：95588
　　 24小时贵宾服务专线：400-66-95588（面向财富卡、理财金卡、白金卡及信用卡金卡客户，目前已在除上海、浙江和广东以外的全国各地区开通）

  *  短信客服
　　　 发送手机短信“LTK+咨询内容”至95588


= 控件列表 =
  # safeEdit1
  下载地址: https://mybank.icbc.com.cn/icbc/newperbank/AxSafeControls.cab#version=1,0,0,13
{{{
<object
        id="safeEdit1" classid="CLSID:73E4740C-08EB-4133-896B-8D0A7C9EE3CD" 
        codebase="/icbc/newperbank/AxSafeControls.cab#version=1,0,0,13" 
        width="145" height="21"
        onkeyup="getfocus1(&quot;KeyPart&quot;)">
</object>
}}}
 
  # KeyPart
  下载地址: 同上
{{{
<object 
        id="KeyPart" classid="CLSID:73E4740C-08EB-4133-896B-8D0A7C9EE3CD"
        codebase="/icbc/newperbank/AxSafeControls.cab#version=1,0,0,13"       
        width="40" height="28" 
        onkeyup="if(window.event.keyCode==13) mySubmit();">
</object>
}}}



= 配置过程 =

  # 安装mfc42
{{{
$ winetricks -q mfc42
}}}
  # 复制scarddlg.dll
{{{
$ cp scarddlg.dll ~/.wine/drive_c/windows/system32
}}}
  # 安装安全控件
{{{
$ cabextract AxSafeControls.cab
$ regsvr32 AxSafeControls.dll
}}}
= bug 列表 =

  * === 安装安全控件需要 scarddlg.dll , Wine 尚未实现这个dll . ===
  仅需要一个空的dll就可以骗过安装程序. 

  http://bugs.winehq.org/show_bug.cgi?id=26026

  状态: 未修复

  Workround: 复制scarddlg.dll到system32文件夹

  * === wine buitin IE 打开工行登录页面会崩溃 ===
  http://bugs.winehq.org/show_bug.cgi?id=25999

  状态: 已经提交补丁,等待官方收录

  * === 无法显示工行登录页面的控件, 原因是wine buitin IE 不支持大写的CLSID ===
  http://bugs.winehq.org/show_bug.cgi?id=26000

  状态: 将在下一版本的wine-gecko中修复

  Workround: 暂无

  * === 无法使用u盾 ===
  http://bugs.winehq.org/show_bug.cgi?id=25820

  状态: 未修复, 等待 wine1.4支持Windows原生USB驱动

  Workround: 暂无